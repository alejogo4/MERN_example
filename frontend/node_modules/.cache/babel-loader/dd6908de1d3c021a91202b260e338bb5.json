{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\agiraldo\\\\Documents\\\\Pruebas\\\\React\\\\MERN_example\\\\frontend\\\\src\\\\screens\\\\users\\\\CreateUser.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nconst usersURL = \"http://localhost:4000/api/users/\";\nexport default class CreateUser extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: [],\n      user: \"\"\n    };\n\n    this.obtenerUsers = async () => {\n      let usersList = await axios.get(usersURL);\n      this.setState({\n        users: usersList.data\n      });\n    };\n\n    this.listarUsers = () => {\n      if (this.state.users) {\n        return this.state.users.map(user => React.createElement(\"li\", {\n          className: \"list-group-item list-group-item-action\",\n          onDoubleClick: () => this.eliminarUser(user._id),\n          key: user._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24\n          },\n          __self: this\n        }, user.username));\n      } else {\n        return \"Cargando...\";\n      } //Se puede asi tambien colocandolo en las llaves\n\n      /* (this.state.users)\r\n                          ?this.state.users.map(user=>\r\n                              <li className=\"list-group-item list-group-item-action\" key={user._id}>{user.username}</li>\r\n                              )\r\n                          :\"Cargando...\"*/\n\n    };\n\n    this.onChangeUser = e => {\n      this.setState({\n        user: e.target.value\n      });\n    };\n\n    this.onSubmitUser = async e => {\n      e.preventDefault();\n      await axios.post(usersURL, {\n        username: this.state.user\n      });\n      this.obtenerUsers();\n      this.setState({\n        user: ''\n      });\n    };\n\n    this.eliminarUser = async id => {\n      await axios.delete(usersURL + id);\n      this.obtenerUsers();\n    };\n  }\n\n  async componentDidMount() {\n    this.obtenerUsers();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Crear Usuario\"), React.createElement(\"form\", {\n      onSubmit: this.onSubmitUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.user,\n      onChange: this.onChangeUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      value: \"Crear\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"col-md-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"list-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, this.listarUsers())));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/agiraldo/Documents/Pruebas/React/MERN_example/frontend/src/screens/users/CreateUser.js"],"names":["React","Component","axios","usersURL","CreateUser","state","users","user","obtenerUsers","usersList","get","setState","data","listarUsers","map","eliminarUser","_id","username","onChangeUser","e","target","value","onSubmitUser","preventDefault","post","id","delete","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios';\r\nconst usersURL = \"http://localhost:4000/api/users/\";\r\n\r\nexport default class CreateUser extends Component {\r\n    \r\n    state = {\r\n        users:[],\r\n        user:\"\"\r\n    }\r\n\r\n    async componentDidMount(){\r\n        this.obtenerUsers();\r\n    }\r\n\r\n    obtenerUsers = async()=>{\r\n        let usersList = await axios.get(usersURL);\r\n        this.setState({users:usersList.data});\r\n    }\r\n\r\n    listarUsers = ()=>{\r\n        if(this.state.users){\r\n            return this.state.users.map(user=>\r\n                <li \r\n                className=\"list-group-item list-group-item-action\"\r\n                onDoubleClick={()=>this.eliminarUser(user._id)} \r\n                key={user._id}>\r\n                    {user.username}\r\n                </li>\r\n                )\r\n        }else{\r\n            return \"Cargando...\"\r\n        }\r\n\r\n        //Se puede asi tambien colocandolo en las llaves\r\n        /* (this.state.users)\r\n                            ?this.state.users.map(user=>\r\n                                <li className=\"list-group-item list-group-item-action\" key={user._id}>{user.username}</li>\r\n                                )\r\n                            :\"Cargando...\"*/\r\n    }\r\n\r\n    onChangeUser = (e)=>{\r\n        this.setState({user:e.target.value})\r\n    }\r\n\r\n    onSubmitUser = async(e)=>{\r\n        e.preventDefault();\r\n        await axios.post(usersURL,{\r\n            username:this.state.user\r\n        });\r\n        this.obtenerUsers();\r\n        this.setState({user:''});\r\n    }\r\n\r\n    eliminarUser = async(id)=>{\r\n\r\n        await axios.delete(usersURL+id);\r\n        this.obtenerUsers();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"row justify-content-center\">\r\n                <div className=\"col-md-5\">\r\n                    <div className=\"card card-body\">\r\n                        <h3>Crear Usuario</h3>\r\n                        <form onSubmit={this.onSubmitUser}>\r\n                            <div className=\"form-group\">\r\n                                <input type=\"text\" className=\"form-control\" value={this.state.user}  onChange={this.onChangeUser}/>\r\n                            </div>\r\n                            <input type=\"submit\" className=\"btn btn-primary\" value=\"Crear\"/>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-5\">\r\n                    <ul className=\"list-group\">\r\n                        {\r\n                            this.listarUsers()\r\n                        }\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}